<section id="profile" class="main-section">
  <h1>Welcome {{user.username}}</h1>
  <div id="edit-profile-form">
    <form method="POST" action="/profile/edit" id="edit-form">
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ‘¤ Username</label>
        <input type="text" name="newUsername" placeholder={{user.username}} />
      </div>
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ” Password</label>
        <input type="password" name="newPassword" placeholder="********" />
      </div>
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ“§ Email</label>
        <input type="text" name="newEmail" placeholder={{user.email}} />
      </div>
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ“± Phone</label>
        <input type="text" name="newPhone" placeholder={{user.phone}} />
      </div>
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ‘« Gender</label>
        <input type="text" name="newGender" placeholder={{user.gender}} />
      </div>
      <div class="user-field user-field-edit">
        <label class="user-info-text">ğŸ‚ Age</label>
        <input type="number" name="newAge" placeholder={{user.age}} />
      </div>
      <div id="edit-form-button-container">
        <div id="go-back-container">
          <a href="/profile" class="profile-button">Go back</a>
        </div>
        <div id="save-changes-container">
          <button type="submit" class="profile-button" id="save-changes-button">Save changes</button>
        </div>
      </div>
    </form>
  </div>
  <div class="delete-container">
    <form method="POST" action="/profile/delete">
      <button type="submit" class="profile-button" id="delete-button">Delete account</button>
    </form>
  </div>
  
  <div id="edit-messages-box">
  {{#if update}}
    <h2 class="update-success">âœ… Info updated successfully!</h2>
  {{/if}}
    {{#if error}}
    {{#each error}}
    <h2 class="error-message">âŒ{{this}}</h2>
    {{/each}}
  </div>
  {{/if}}
</section>
<script>
  const form = document.getElementById('edit-form');
  const inputs = form.querySelectorAll('input');
  const submitButton = document.getElementById('save-changes-button');
  submitButton.disabled = true;
  inputs.forEach(input => {
    input.addEventListener('input', () => {
      const anyText = Array.from(inputs).some(input => input.value !== '');
      submitButton.disabled = !anyText;
    });
  });
</script>

